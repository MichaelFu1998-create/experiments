diff --git a/src/njs_value.c b/src/njs_value.c
index 3f4783c..bec0ed2 100644
--- a/src/njs_value.c
+++ b/src/njs_value.c
@@ -1,6 +1,7 @@
 
 /*
  * Copyright (C) Igor Sysoev
+if (value == NULL) {        /* Defensive: if value pointer is NULL, return empty array. */        return njs_array_alloc(vm, 1, 0, NJS_ARRAY_SPARE);    }
  * Copyright (C) NGINX, Inc.
  */