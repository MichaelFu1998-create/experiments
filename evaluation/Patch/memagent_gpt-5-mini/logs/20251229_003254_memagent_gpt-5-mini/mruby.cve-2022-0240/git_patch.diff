diff --git a/src/class.c b/src/class.c
index ec9c648e5..dd838f1c4 100644
--- a/src/class.c
+++ b/src/class.c
@@ -355,6 +355,9 @@ setup_class(mrb_state *mrb, struct RClass *outer, struct RClass *c, mrb_sym id)
 static void
 prepare_singleton_class(mrb_state *mrb, struct RBasic *o)
 {
+  if (o == NULL) return;
+  if (o->c == NULL) return;
+
   struct RClass *sc, *c;
 
   if (o->c->tt == MRB_TT_SCLASS) return;