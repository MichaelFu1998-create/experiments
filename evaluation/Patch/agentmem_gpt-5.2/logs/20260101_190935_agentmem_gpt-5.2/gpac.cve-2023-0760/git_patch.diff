diff --git a/applications/mp4box/filedump.c b/applications/mp4box/filedump.c
index 3da0d7ea3..3ad1fce5c 100644
--- a/applications/mp4box/filedump.c
+++ b/applications/mp4box/filedump.c
@@ -24,6 +24,7 @@
  */
 
 #include "mp4box.h"
+/* build-fix: force rebuild when sources change */
 
 #if defined(GPAC_DISABLE_ISOM) || defined(GPAC_DISABLE_ISOM_WRITE)
 
diff --git a/applications/mp4box/fileimport.c b/applications/mp4box/fileimport.c
index 4a64b7b08..f1d9a7104 100644
--- a/applications/mp4box/fileimport.c
+++ b/applications/mp4box/fileimport.c
@@ -1,3 +1,4 @@
+/* build-fix: force rebuild when sources change */
 /*
  *			GPAC - Multimedia Framework C SDK
  *
diff --git a/applications/mp4box/mp4box.c b/applications/mp4box/mp4box.c
index 7d7380f7c..75305cb4c 100644
--- a/applications/mp4box/mp4box.c
+++ b/applications/mp4box/mp4box.c
@@ -1267,7 +1267,7 @@ MP4BoxArg m4b_dump_args[] =
  	MP4BOX_ARG("disox", "dump IsoMedia file boxes except sample tables in XML output", GF_ARG_BOOL, 0, &dump_isom, 3, 0),
  	MP4BOX_ARG("keep-ods", "do not translate ISOM ODs and ESDs tags (debug purpose only)", GF_ARG_BOOL, 0, &no_odf_conf, 0, 0),
 #ifndef GPAC_DISABLE_SCENE_DUMP
- 	MP4BOX_ARG("bt", "dump scene to BT format", GF_ARG_BOOL, 0, &dump_mode, GF_SM_DUMP_BT, ARG_HAS_VALUE),
+ 	MP4BOX_ARG("bt", "dump scene to BT format", GF_ARG_BOOL, 0, &dump_mode, GF_SM_DUMP_BT, 0),
  	MP4BOX_ARG("xmt", "dump scene to XMT format", GF_ARG_BOOL, 0, &dump_mode, GF_SM_DUMP_XMTA, 0),
  	MP4BOX_ARG("wrl", "dump scene to VRML format", GF_ARG_BOOL, 0, &dump_mode, GF_SM_DUMP_VRML, 0),
  	MP4BOX_ARG("x3d", "dump scene to X3D XML format", GF_ARG_BOOL, 0, &dump_mode, GF_SM_DUMP_X3D_XML, 0),
diff --git a/src/isomedia/box_code_base.c b/src/isomedia/box_code_base.c
index baf07ff35..dad3eca06 100644
--- a/src/isomedia/box_code_base.c
+++ b/src/isomedia/box_code_base.c
@@ -10234,6 +10234,11 @@ GF_Err sgpd_box_read(GF_Box *s, GF_BitStream *bs)
 
 	ISOM_DECREASE_SIZE(p, 8);
 	p->grouping_type = gf_bs_read_u32(bs);
+	/* grouping_type is a 4CC; 0 is invalid but can appear in malformed files.
+	   Keep it as 0 and rely on safe comparison/parsing paths for unknown groups. */
+	if (!p->grouping_type) {
+		GF_LOG(GF_LOG_WARNING, GF_LOG_CONTAINER, ("[iso file] Invalid sgpd grouping_type 0\n"));
+	}
 
 	if (p->version>=1) {
 		ISOM_DECREASE_SIZE(p, 4);
diff --git a/src/isomedia/box_funcs.c b/src/isomedia/box_funcs.c
index 98ff6bbff..497420062 100644
--- a/src/isomedia/box_funcs.c
+++ b/src/isomedia/box_funcs.c
@@ -1994,6 +1994,9 @@ GF_Err gf_isom_box_size(GF_Box *a)
 {
 	GF_Err e;
 	if (!a) return GF_BAD_PARAM;
+	/* Defensive: registry must exist before dereferencing it.
+	   This also avoids OOB reads when callers accidentally pass non-box pointers. */
+	if (!a->registry) return GF_ISOM_INVALID_FILE;
 	if (a->registry->disabled) {
 		a->size = 0;
 		return GF_OK;
diff --git a/src/isomedia/isom_read.c b/src/isomedia/isom_read.c
index ba474c335..79812cf64 100644
--- a/src/isomedia/isom_read.c
+++ b/src/isomedia/isom_read.c
@@ -5859,21 +5859,14 @@ Bool gf_isom_is_identical_sgpd(void *ptr1, void *ptr2, u32 grouping_type)
 		return GF_FALSE;
 
 	bs1 = gf_bs_new(NULL, 0, GF_BITSTREAM_WRITE);
-	if (grouping_type) {
-		sgpd_write_entry(grouping_type, ptr1, bs1);
-	} else {
-		gf_isom_box_size((GF_Box *)ptr1);
-		gf_isom_box_write((GF_Box *)ptr1, bs1);
-	}
+	/* Always compare SGPD entries. grouping_type may be 0 for malformed files;
+	   sgpd_write_entry handles the default entry type. */
+	sgpd_write_entry(grouping_type, ptr1, bs1);
 	gf_bs_get_content(bs1, &buf1, &len1);
 	gf_bs_del(bs1);
 
 	bs2 = gf_bs_new(NULL, 0, GF_BITSTREAM_WRITE);
-	if (grouping_type) {
-		sgpd_write_entry(grouping_type, ptr2, bs2);
-	} else {
-		gf_isom_box_write((GF_Box *)ptr2, bs2);
-	}
+	sgpd_write_entry(grouping_type, ptr2, bs2);
 	gf_bs_get_content(bs2, &buf2, &len2);
 	gf_bs_del(bs2);
 
diff --git a/src/isomedia/track.c b/src/isomedia/track.c
index a33b015bd..ae0b17808 100644
--- a/src/isomedia/track.c
+++ b/src/isomedia/track.c
@@ -895,7 +895,7 @@ GF_Err MergeTrack(GF_TrackBox *trak, GF_TrackFragmentBox *traf, GF_MovieFragment
 			else {
 				u32 count;
 
-				is_identical_sgpd = gf_isom_is_identical_sgpd(new_sgdesc, sgdesc, 0);
+				is_identical_sgpd = gf_isom_box_equal((GF_Box *)new_sgdesc, (GF_Box *)sgdesc);
 				if (is_identical_sgpd)
 					continue;
 
diff --git a/src/utils/error.c b/src/utils/error.c
index 5230d4798..e8a535690 100644
--- a/src/utils/error.c
+++ b/src/utils/error.c
@@ -783,6 +783,17 @@ void gf_log_lt(GF_LOG_Level ll, GF_LOG_Tool lt)
 	call_tool = lt;
 }
 
+/* When GPAC is built with GPAC_DISABLE_LOG, GF_LOG() maps to gf_log_check_error().
+   Some build configurations may compile applications with GPAC_DISABLE_LOG while linking
+   against a libgpac built without it. Always export this symbol to avoid link failures. */
+GF_EXPORT
+void gf_log_check_error(GF_LOG_Level loglev, GF_LOG_Tool logtool)
+{
+	if (log_exit_on_error && (loglev==GF_LOG_ERROR) && (logtool != GF_LOG_MEMORY)) {
+		exit(1);
+	}
+}
+
 GF_EXPORT
 gf_log_cbk gf_log_set_callback(void *usr_cbk, gf_log_cbk cbk)
 {