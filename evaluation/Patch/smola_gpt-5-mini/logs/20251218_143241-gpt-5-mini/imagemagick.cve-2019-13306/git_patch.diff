diff --git a/coders/pnm.c b/coders/pnm.c
index f6f69bf..b9c8ceb 100644
--- a/coders/pnm.c
+++ b/coders/pnm.c
@@ -1824,14 +1824,15 @@ static MagickBooleanType WritePNMImage(const ImageInfo *image_info,Image *image,
                 count=(ssize_t) FormatLocaleString(buffer,MagickPathExtent,
                   "%u ",ScaleQuantumToLong(index));
             extent=(size_t) count;
-            (void) strncpy((char *) q,buffer,extent);
-            q+=extent;
+            /* ensure buffer has room before copying */
             if ((q-pixels+extent+1) >= sizeof(pixels))
-              {
-                *q++='\n';
-                (void) WriteBlob(image,q-pixels,pixels);
-                q=pixels;
-              }
+            {
+              *q++='\n';
+              (void) WriteBlob(image,q-pixels,pixels);
+              q=pixels;
+            }
+            (void) memcpy(q,buffer,extent);
+            q+=extent;
             p+=GetPixelChannels(image);
           }
           *q++='\n';
@@ -1899,14 +1900,15 @@ static MagickBooleanType WritePNMImage(const ImageInfo *image_info,Image *image,
                   ScaleQuantumToLong(GetPixelGreen(image,p)),
                   ScaleQuantumToLong(GetPixelBlue(image,p)));
             extent=(size_t) count;
-            (void) strncpy((char *) q,buffer,extent);
-            q+=extent;
+            /* ensure buffer has room before copying */
             if ((q-pixels+extent+1) >= sizeof(pixels))
-              {
-                *q++='\n';
-                (void) WriteBlob(image,q-pixels,pixels);
-                q=pixels;
-              }
+            {
+              *q++='\n';
+              (void) WriteBlob(image,q-pixels,pixels);
+              q=pixels;
+            }
+            (void) memcpy(q,buffer,extent);
+            q+=extent;
             p+=GetPixelChannels(image);
           }
           *q++='\n';