diff --git a/src/njs_array.c b/src/njs_array.c
index 81a7c15..1f046de 100644
--- a/src/njs_array.c
+++ b/src/njs_array.c
@@ -143,7 +143,15 @@ njs_array_convert_to_slow_array(njs_vm_t *vm, njs_array_t *array)
     njs_object_prop_t  *prop;
 
     njs_set_array(&value, array);
-    array->object.fast_array = 0;
+    if (array == NULL) {
+        return NJS_ERROR;
+    }
+    /* If there is no fast storage, nothing to convert. */
+    if (array->start == NULL) {
+        array->object.fast_array = 0;
+        return NJS_OK;
+    }
+        array->object.fast_array = 0;
 
     length = array->length;