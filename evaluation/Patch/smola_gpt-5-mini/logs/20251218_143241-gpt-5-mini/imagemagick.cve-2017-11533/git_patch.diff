diff --git a/coders/uil.c b/coders/uil.c
index beda560..85bd06a 100644
--- a/coders/uil.c
+++ b/coders/uil.c
@@ -263,7 +263,8 @@ static MagickBooleanType WriteUILImage(const ImageInfo *image_info,Image *image,
             *q;
 
           colors++;
-          for (y=0; y < (ssize_t) image->rows; y++)
+          i=0;
+for (y=0; y < (ssize_t) image->rows; y++)
           {
             q=GetAuthenticPixels(image,0,y,image->columns,1,exception);
             if (q == (Quantum *) NULL)