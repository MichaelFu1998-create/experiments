diff --git a/src/array.c b/src/array.c
index 07ceefb..6821589 100644
--- a/src/array.c
+++ b/src/array.c
@@ -172,7 +172,7 @@ ary_make_shared(mrb_state *mrb, struct RArray *a)
 
     shared->refcnt = 1;
     if (a->as.heap.aux.capa > len) {
-      a->as.heap.ptr = shared->ptr = (mrb_value *)mrb_realloc(mrb, ptr, sizeof(mrb_value)*len+1);
+      a->as.heap.ptr = shared->ptr = (mrb_value *)mrb_realloc(mrb, ptr, sizeof(mrb_value) * (len + 1));
     }
     else {
       shared->ptr = ptr;
diff --git a/src/vm.c b/src/vm.c
index 6133cbc..97586ee 100644
--- a/src/vm.c
+++ b/src/vm.c
@@ -692,6 +692,9 @@ mrb_f_send(mrb_state *mrb, mrb_value self)
     mrb_argnum_error(mrb, 0, 1, -1);
   }
   else if (n == 15) {
+    if (RARRAY_LEN(regs[0]) == 0) {
+      mrb_argnum_error(mrb, 0, 1, -1);
+    }
     name = mrb_obj_to_sym(mrb, RARRAY_PTR(regs[0])[0]);
   }
   else {