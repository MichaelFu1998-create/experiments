diff --git a/src/media_tools/isom_tools.c b/src/media_tools/isom_tools.c
index 21f8905..2aed7a9 100644
--- a/src/media_tools/isom_tools.c
+++ b/src/media_tools/isom_tools.c
@@ -58,6 +58,9 @@ GF_Err gf_media_change_par(GF_ISOFile *file, u32 track, s32 ar_num, s32 ar_den,
 		   ) {
 #ifndef GPAC_DISABLE_AV_PARSERS
 			GF_AVCConfig *avcc = gf_isom_avc_config_get(file, track, 1);
+	if (!avcc) return GF_OK;
+	if (!avcc) return GF_OK;
+	if (!avcc) return GF_OK;
 			if (rewrite_bs) {
 				gf_avc_change_par(avcc, ar_num, ar_den);
 				e = gf_isom_avc_config_update(file, track, 1, avcc);
@@ -195,6 +198,7 @@ GF_Err gf_media_change_color(GF_ISOFile *file, u32 track, s32 fullrange, s32 vid
 			|| (stype==GF_ISOM_SUBTYPE_AVC4_H264)
 	) {
 		GF_AVCConfig *avcc = gf_isom_avc_config_get(file, track, 1);
+	if (!avcc) return GF_OK;
 		gf_avc_change_color(avcc, fullrange, vidformat, colorprim, transfer, colmatrix);
 		e = gf_isom_avc_config_update(file, track, 1, avcc);
 		gf_odf_avc_cfg_del(avcc);
@@ -3289,6 +3293,7 @@ GF_Err gf_media_change_pl(GF_ISOFile *file, u32 track, u32 profile, u32 compat,
 	}
 
 	avcc = gf_isom_avc_config_get(file, track, 1);
+	if (!avcc) return GF_OK;
 	if (level) avcc->AVCLevelIndication = level;
 	if (compat) avcc->profile_compatibility = compat;
 	if (profile) avcc->AVCProfileIndication = profile;