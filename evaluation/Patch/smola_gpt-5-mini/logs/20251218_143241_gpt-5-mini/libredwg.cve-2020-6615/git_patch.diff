diff --git a/src/dynapi.c b/src/dynapi.c
index 082d178..6d6b033 100644
--- a/src/dynapi.c
+++ b/src/dynapi.c
@@ -7756,10 +7756,8 @@ dwg_dynapi_entity_value (void *restrict _obj, const char *restrict name,
                          const char *restrict fieldname,
                          void *restrict out, Dwg_DYNAPI_field *restrict fp)
 {
-#ifndef HAVE_NONNULL
   if (!_obj || !name || !fieldname || !out)
     return false;
-#endif
   {
     int error;
     const Dwg_Object* obj = dwg_obj_generic_to_object (_obj, &error);
@@ -7784,6 +7782,18 @@ dwg_dynapi_entity_value (void *restrict _obj, const char *restrict name,
         }
       if (fp)
         memcpy (fp, f, sizeof (Dwg_DYNAPI_field));
+
+      /* _obj may be NULL in some call paths (e.g. when dwg_obj_generic_to_object
+         failed).  Avoid dereferencing a NULL pointer; report an error instead. */
+      if (!_obj)
+        {
+          int loglevel = DWG_LOGLEVEL_ERROR;
+          if (obj)
+            loglevel = obj->parent->opts & DWG_OPTS_LOGLEVEL;
+          LOG_ERROR ("%s: NULL entity pointer for %s", __FUNCTION__, name);
+          return false;
+        }
+
       memcpy (out, &((char *)_obj)[f->offset], f->size);
       return true;
     }
@@ -7795,10 +7805,8 @@ dwg_dynapi_entity_utf8text (void *restrict _obj, const char *restrict name,
                             const char *restrict fieldname,
                             char **restrict out, Dwg_DYNAPI_field *restrict fp)
 {
-#ifndef HAVE_NONNULL
   if (!_obj || !name || !fieldname || !out)
     return false;
-#endif
   {
     int error;
     const Dwg_Object* obj = dwg_obj_generic_to_object (_obj, &error);