diff --git a/src/scene_manager/swf_parse.c b/src/scene_manager/swf_parse.c
index f4b974a..4545034 100644
--- a/src/scene_manager/swf_parse.c
+++ b/src/scene_manager/swf_parse.c
@@ -1425,9 +1425,15 @@ static GF_Err swf_def_font(SWFReader *read, u32 revision)
 
 		count = swf_get_16(read);
 		ft->nbGlyphs = count / 2;
-		offset_table = (u32*)gf_malloc(sizeof(u32) * ft->nbGlyphs);
-		offset_table[0] = 0;
-		for (i=1; i<ft->nbGlyphs; i++) offset_table[i] = swf_get_16(read);
+		/* avoid allocating zero bytes and writing offset_table[0] when there are no glyphs */
+		if (ft->nbGlyphs) {
+			offset_table = (u32*)gf_malloc(sizeof(u32) * ft->nbGlyphs);
+			if (!offset_table) return GF_OUT_OF_MEM;
+			offset_table[0] = 0;
+			for (i=1; i<ft->nbGlyphs; i++) offset_table[i] = swf_get_16(read);
+		} else {
+			offset_table = NULL;
+		}
 
 		for (i=0; i<ft->nbGlyphs; i++) {
 			swf_align(read);