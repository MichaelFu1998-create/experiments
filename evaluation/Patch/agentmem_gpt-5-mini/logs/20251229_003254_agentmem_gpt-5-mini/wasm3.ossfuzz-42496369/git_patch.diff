diff --git a/source/m3_compile.c b/source/m3_compile.c
index 835a9a4..b013000 100644
--- a/source/m3_compile.c
+++ b/source/m3_compile.c
@@ -1112,17 +1112,21 @@ _   (Read_u8 (& opcode, & o->wasm, o->wasmEnd));             m3log (compile, d_i
 
     i_opcode = (i_opcode << 8) | opcode;
 
-    //printf("Extended opcode: 0x%x\n", i_opcode);
+    //printf("Extended opcode: 0x%x", i_opcode);
 
-    M3Compiler compiler = GetOpInfo (i_opcode)->compiler;
+    const M3OpInfo * opinfo = GetOpInfo (i_opcode);
+    _throwif ("unknown extended opcode", not opinfo);
+
+    M3Compiler compiler = opinfo->compiler;
     _throwif (m3Err_noCompiler, not compiler);
 
 _   ((* compiler) (o, i_opcode));
 
     o->previousOpcode = i_opcode;
 
-	} _catch: return result;
+    } _catch: return result;
 }
+
 #endif